<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>Portfolio - Britannia Pub</title>
    <link href="style/style.css" rel="stylesheet" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Manrope&family=Montserrat&display=swap" rel="stylesheet">
</head>

<body>
    <header>
        <nav>
            <div>
                <a href="index.html">Accueil</a>
                <a href="Britannia_Pub_Menu.html">Britannia pub menu</a>
                <a href="Evénements.html">Evénements</a>
                <a href="UnderBrit.html">UnderBrit</a>
            </div>
        </nav>
    </header>

    <main>
        <section class="titre">
            <h1>Evenements</h1>
        </section>

        <section class="évenements-section-photos">
            <div class="grid-évenements">
                <a class="programme">
                    <img src="images/programme.jpeg" alt="programme fixe" />
                </a>
            </div>
        </section>

        <section class="titre">
            <h1>Britannia Pub</h1>
        </section>

        <section class="évenements-section-photos">
            <div class="grid-portraits">
                <a href="images/FDV.jpeg" class="lien-conteneur-photo">
                    <img src="images/FDV.jpeg" alt="Image foire du Valais" />
                    <div class="photo-hover">Voir la photo</div>
                </a>
                <a href="images/exterieur.png" class="lien-conteneur-photo">
                    <img src="images/exterieur.png" alt="Image terrasse principale" />
                    <div class="photo-hover">Voir la photo</div>
                </a>
                <a href="images/chill.png" class="lien-conteneur-photo">
                    <img src="images/chill.png" alt="Espace chill" />
                    <div class="photo-hover">Voir la photo</div>
                </a>
                <a href="images/fumoire.png" class="lien-conteneur-photo">
                    <img src="images/fumoire.png" alt="La partie fumoire" />
                    <div class="photo-hover">Voir la photo</div>
                </a>
                <a href="images/flechette.png" class="lien-conteneur-photo">
                    <img src="images/flechette.png" alt="Le coin fléchette" />
                    <div class="photo-hover">Voir la photo</div>
                </a>
                <a href="images/entre_cuisine.png" class="lien-conteneur-photo">
                    <img src="images/entre_cuisine.png" alt="la piste de dance" />
                    <div class="photo-hover">Voir la photo</div>
                </a>
            </div>
        </section>
    </main>

    <footer>
        <div>
            <a target="_blank" href="https://www.google.com/maps/place/Britannia+Pub/..." class="lien-icone">
                <img src="images/logo_maps.svg" class="googleMaps" alt="Logo maps" />
            </a>
            <a target="_blank" href="https://www.facebook.com/MyBritanniaPub/photos" class="lien-icone">
                <img src="images/logo-facebook.svg" class="facebook" alt="Logo facebook" />
            </a>
            <a target="_blank" href="https://www.instagram.com/britanniapub1920/" class="lien-icone">
                <img src="images/instagram.svg" class="instagram" alt="Logo Instagram" />
            </a>
        </div>
    </footer>

    <!-- === LIGHTBOX (diaporama) === -->
    <div id="lightbox" class="lightbox">
        <span class="close">&times;</span>
        <img class="lightbox-image" src="" alt="Image agrandie">
        <a class="prev">&#10094;</a>
        <a class="next">&#10095;</a>
    </div>

    <!-- === SCRIPT LIGHTBOX === -->
    <script>
        const links = document.querySelectorAll('.grid-portraits .lien-conteneur-photo');
        const lightbox = document.getElementById('lightbox');
        const lightboxImg = document.querySelector('.lightbox-image');
        const closeBtn = document.querySelector('.close');
        const prevBtn = document.querySelector('.prev');
        const nextBtn = document.querySelector('.next');

        let currentIndex = 0;

        links.forEach((link, index) => {
            link.addEventListener('click', (e) => {
                e.preventDefault(); // empêche le navigateur de suivre le href
                currentIndex = index;
                showImage();
                lightbox.style.display = 'flex'; // centrer avec flex
            });
        });

        function showImage() {
            lightboxImg.style.opacity = 0;
            setTimeout(() => {
                lightboxImg.src = links[currentIndex].href;
                lightboxImg.onload = () => {
                    lightboxImg.style.opacity = 1;
                };
            }, 100);
        }

        closeBtn.addEventListener('click', () => {
            lightbox.style.display = 'none';
        });

        prevBtn.addEventListener('click', () => {
            currentIndex = (currentIndex - 1 + links.length) % links.length;
            showImage();
        });

        nextBtn.addEventListener('click', () => {
            currentIndex = (currentIndex + 1) % links.length;
            showImage();
        });

        lightbox.addEventListener('click', (e) => {
            if (e.target === lightbox) lightbox.style.display = 'none';
        });

        document.addEventListener('keydown', (e) => {
            if (lightbox.style.display === 'flex') {
                if (e.key === 'ArrowLeft') prevBtn.click();
                if (e.key === 'ArrowRight') nextBtn.click();
                if (e.key === 'Escape') closeBtn.click();
            }
        });
    </script>

</body>
</html>
